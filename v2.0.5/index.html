<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · CompatHelper.jl</title><link rel="canonical" href="https://JuliaRegistries.github.io/CompatHelper.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">CompatHelper.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation,-step-1:-Create-the-workflow-file"><span>Installation, step 1: Create the workflow file</span></a></li><li><a class="tocitem" href="#Installation,-step-2:-Set-up-the-SSH-deploy-key"><span>Installation, step 2: Set up the SSH deploy key</span></a></li></ul></li><li><a class="tocitem" href="options/">Configuration Options</a></li><li><a class="tocitem" href="troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="other-environments/">Self-Hosting and Other Environments</a></li><li><a class="tocitem" href="acknowledgements/">Acknowledgements</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaRegistries/CompatHelper.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="[CompatHelper.jl](https://github.com/JuliaRegistries/CompatHelper.jl)"><a class="docs-heading-anchor" href="#[CompatHelper.jl](https://github.com/JuliaRegistries/CompatHelper.jl)"><a href="https://github.com/JuliaRegistries/CompatHelper.jl">CompatHelper.jl</a></a><a id="[CompatHelper.jl](https://github.com/JuliaRegistries/CompatHelper.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#[CompatHelper.jl](https://github.com/JuliaRegistries/CompatHelper.jl)" title="Permalink"></a></h1><p>CompatHelper is a Julia package that helps you keep your <code>[compat]</code> entries up-to-date.</p><p>Whenever one of your package&#39;s dependencies releases a new breaking version, CompatHelper opens a pull request on your repository that modifies your <code>[compat]</code> entry to reflect the newly released version.</p><p>We would like to eventually add Julia support to <a href="https://dependabot.com">Dependabot</a>. If you would like to help with adding Julia support to Dependabot, join us in the <code>#dependabot</code> channel on the <a href="https://julialang.org/slack/">Julia Language Slack</a>.</p><h2 id="Installation,-step-1:-Create-the-workflow-file"><a class="docs-heading-anchor" href="#Installation,-step-1:-Create-the-workflow-file">Installation, step 1: Create the workflow file</a><a id="Installation,-step-1:-Create-the-workflow-file-1"></a><a class="docs-heading-anchor-permalink" href="#Installation,-step-1:-Create-the-workflow-file" title="Permalink"></a></h2><p>Create a file at <code>.github/workflows/CompatHelper.yml</code> with the following contents:</p><pre><code class="language-yaml">name: CompatHelper
on:
  schedule:
    - cron: 0 0 * * *
  workflow_dispatch:
jobs:
  CompatHelper:
    runs-on: ubuntu-latest
    steps:
      - name: &quot;Install CompatHelper&quot;
        run: |
          import Pkg
          name = &quot;CompatHelper&quot;
          uuid = &quot;aa819f21-2bde-4658-8897-bab36330d9b7&quot;
          version = &quot;2&quot;
          Pkg.add(; name, uuid, version)
        shell: julia --color=yes {0}
      - name: &quot;Run CompatHelper&quot;
        run: |
          import CompatHelper
          CompatHelper.main()
        shell: julia --color=yes {0}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          COMPATHELPER_PRIV: ${{ secrets.DOCUMENTER_KEY }}
          # COMPATHELPER_PRIV: ${{ secrets.COMPATHELPER_PRIV }}</code></pre><p>Note: Julia is available by default in the GitHub Actions virtual environments. Therefore, you do not need to manually install Julia.</p><p>CompatHelper is now installed as a GitHub Action on your repository. But wait: do you fall into any of the following categories:</p><ol><li>You use GitHub Actions to test your package using continuous integration (CI).</li><li>You use GitHub Actions to build and deploy the documentation for your package.</li></ol><p>If you do not fall into any of those categories, then you are done! There is nothing more that you need to do.</p><p>But if you do fall into one or more of those categories, then you also need to set up an SSH deploy key for CompatHelper to use. Read on:</p><h2 id="Installation,-step-2:-Set-up-the-SSH-deploy-key"><a class="docs-heading-anchor" href="#Installation,-step-2:-Set-up-the-SSH-deploy-key">Installation, step 2: Set up the SSH deploy key</a><a id="Installation,-step-2:-Set-up-the-SSH-deploy-key-1"></a><a class="docs-heading-anchor-permalink" href="#Installation,-step-2:-Set-up-the-SSH-deploy-key" title="Permalink"></a></h2><p><em>Note: if you already have an SSH deploy key set up in a secret, e.g. <code>DOCUMENTER_KEY</code> or <code>FRANKLIN_PRIV</code>, you can reuse it. See the &quot;Advanced notes&quot; section below.</em></p><h3 id="Motivation"><a class="docs-heading-anchor" href="#Motivation">Motivation</a><a id="Motivation-1"></a><a class="docs-heading-anchor-permalink" href="#Motivation" title="Permalink"></a></h3><p>The default CompatHelper setup has one flaw: the pull requests that CompatHelper opens will not trigger any other GitHub Actions.</p><p>Consider the following situations:</p><ol><li>You use GitHub Actions to test your package using continuous integration (CI).</li><li>You use GitHub Actions to build and deploy the documentation for your package.</li></ol><p>If any of those situations apply to you, then you will need to set up an SSH deploy key for CompatHelper. Once you have set up an SSH deploy key for CompatHelper, the pull requests that CompatHelper opens will trigger all of the usual GitHub Actions.</p><p>If none of those situations apply to you, then you don&#39;t need to set up an SSH deploy key for CompatHelper.</p><h3 id="Instructions-for-setting-up-the-SSH-deploy-key"><a class="docs-heading-anchor" href="#Instructions-for-setting-up-the-SSH-deploy-key">Instructions for setting up the SSH deploy key</a><a id="Instructions-for-setting-up-the-SSH-deploy-key-1"></a><a class="docs-heading-anchor-permalink" href="#Instructions-for-setting-up-the-SSH-deploy-key" title="Permalink"></a></h3><p>It is easy to set up an SSH deploy key for CompatHelper. Here are the instructions:</p><ol><li><code>ssh-keygen -m PEM -N &quot;&quot; -f compathelper_key</code></li><li><code>cat compathelper_key # This is the private key in PEM format. Copy this to your clipboard.</code></li><li>Go to the GitHub page for your package&#39;s repository, click on the <strong>Settings</strong> tab, then click on <strong>Secrets</strong>, and then click on <strong>New repository secret</strong>. Name the secret <code>COMPATHELPER_PRIV</code>. For the contents, paste in the PEM-formatted private key that you copied in the previous step. Make sure that you include the entire PEM-formatted private key, including the lines at the beginning and end that start with <code>-----BEGIN</code> and <code>-----END</code> respectively.</li><li><code>cat compathelper_key.pub # This is the public key. Copy this to your clipboard.</code></li><li>Go to the GitHub page for your package&#39;s repository, click on the <strong>Settings</strong> tab, then click on <strong>Deploy keys</strong>, and then click on <strong>Add deploy key</strong>. Name the deploy key <code>COMPATHELPER_PUB</code>. For the contents, paste in the public key that you copied in the previous step. Make sure that you give the key <strong>write access</strong>.</li><li><code>rm -f compathelper_key compathelper_key.pub</code></li></ol><h3 id="Advanced-notes"><a class="docs-heading-anchor" href="#Advanced-notes">Advanced notes</a><a id="Advanced-notes-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-notes" title="Permalink"></a></h3><p>When you supply the private key, you can either provide the raw PEM-formatted private key itself (as we did above), or you can provide the Base64-encoded form of the PEM-formatted private key.</p><p>For example, if you already have a Base64-encoded PEM-formatted private key saved as a secret, you can re-use it. If e.g. the secret is named <code>DOCUMENTER_KEY</code>, then simply replace the line that looks like this:</p><pre><code class="language-yaml">COMPATHELPER_PRIV: ${{ secrets.COMPATHELPER_PRIV }}</code></pre><p>with this line:</p><pre><code class="language-yaml">COMPATHELPER_PRIV: ${{ secrets.DOCUMENTER_KEY }}</code></pre></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="options/">Configuration Options »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 2 May 2021 03:45">Sunday 2 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
